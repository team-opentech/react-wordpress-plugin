var rr=Object.defineProperty,sr=Object.defineProperties,nr=Object.getOwnPropertyDescriptors,Et=Object.getOwnPropertySymbols,or=Object.prototype.hasOwnProperty,ar=Object.prototype.propertyIsEnumerable,Pt=(e,t,r)=>t in e?rr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,L=(e,t)=>{for(var r in t||(t={}))or.call(t,r)&&Pt(e,r,t[r]);if(Et)for(var r of Et(t))ar.call(t,r)&&Pt(e,r,t[r]);return e},q=(e,t)=>sr(e,nr(t));import lr,{Component as cr}from"react";import{BaseComponentWrapper as ir,ColumnApi as ur,ComponentUtil as bt,CtrlsService as St,GridCoreCreator as dr,ModuleRegistry as pr,VanillaFrameworkOverrides as mr,_ as Cr}from"ag-grid-community";import He,{forwardRef as hr,useCallback as Le,useContext as fr,useEffect as gr,useImperativeHandle as Rr,useMemo as Ue,useRef as ne,useState as Re}from"react";import{AgPromise as nt}from"ag-grid-community";import Ft,{memo as vr,useEffect as yr,useState as wr}from"react";import{createContext as Er}from"react";var Ve=Er({setMethods:()=>{}}),Pr=e=>{const{initialProps:t,addUpdateCallback:r,CustomComponentClass:s,setMethods:n}=e,[o,c]=wr(t);return yr(()=>{r(a=>c(a))},[]),Ft.createElement(Ve.Provider,{value:{setMethods:n}},Ft.createElement(s,L({},o)))},br=vr(Pr);import{createElement as It}from"react";import{AgPromise as ot,_ as Mt}from"ag-grid-community";var Sr=0;function kt(){return`agPortalKey_${++Sr}`}import{createPortal as Fr}from"react-dom";import{renderToStaticMarkup as Ir}from"react-dom/server";var At=class{constructor(e,t,r,s){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!s,this.statelessComponent=this.isStateless(this.reactComponent),this.key=kt(),this.portalKey=kt(),this.instanceCreated=this.isStatelessComponent()?ot.resolve(!1):new ot(n=>{this.resolveInstanceCreated=n})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){return this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(Mt.warnOnce('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&(Mt.warnOnce('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(t=>this.eParentElement.classList.add(t))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!r){setTimeout(()=>this.callMethod(e,t));return}const s=r[e];if(s)return s.apply(r,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new ot(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(e.ref=t=>{var r;this.componentInstance=t,this.addParentContainerStyleAndClasses(),(r=this.resolveInstanceCreated)==null||r.call(this,!0),this.resolveInstanceCreated=void 0}),this.reactElement=this.createElement(this.reactComponent,q(L({},e),{key:this.key})),this.portal=Fr(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return It(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,t=>{e(t)})}isNullValue(){return this.valueRenderedIsNull(this.params)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}valueRenderedIsNull(e){if(!this.componentType.cellRenderer)return!1;const t=console.error;try{return console.error=()=>{},Ir(It(this.reactComponent,e))===""}catch{}finally{console.error=t}return!1}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function at(e,t,r){e.forEach(s=>{const n=t[s];n&&(r[s]=n)})}var pe=class extends At{constructor(){super(...arguments),this.awaitUpdateCallback=new nt(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=br}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:r=>this.setMethods(r),addUpdateCallback:r=>{this.updateCallback=()=>(r(this.getProps()),new nt(s=>{setTimeout(()=>{s()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,at(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return q(L({},this.sourceParams),{key:this.key,ref:this.ref})}refreshProps(){return this.updateCallback?this.updateCallback():new nt(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},Mr=class extends pe{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},kr=class extends pe{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback()}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.model=e,this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};import{AgPromise as Ar}from"ag-grid-community";function Gt(e,t){e.parentFilterInstance(r=>{(r.setModel(t)||Ar.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var Gr=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=r=>this.updateModel(r)}getProps(){return q(L({},this.floatingFilterParams),{model:this.model,onModelChange:this.onModelChange})}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){at(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Gt(this.floatingFilterParams,e)}},Or=class extends pe{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Gt(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},Tr=class extends pe{refresh(e){this.sourceParams=e,this.refreshProps()}},xr=class extends pe{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},_r=class extends pe{refresh(e){this.sourceParams=e,this.refreshProps()}},Dr=class extends pe{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Nr=class extends pe{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}},Ot=class er{constructor(t,r,s){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=r||"div",this.refresher=t,this.maxComponentCreationTimeMs=s||er.MAX_COMPONENT_CREATION_TIME_IN_MS}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(t){this.portals=this.portals.filter(r=>r!==t),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(t,r,s){this.portals=[...this.portals,t],this.waitForInstance(r,s),this.batchUpdate()}updateReactPortal(t,r){this.portals[this.portals.indexOf(t)]=r,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(t,r,s=Date.now()){if(this.destroyed){r(null);return}if(t.rendered())r(t);else{if(Date.now()-s>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){if(t.isNullValue()){r(t);return}console.error(`AG Grid: React Component '${t.getReactComponentName()}' not created within ${this.maxComponentCreationTimeMs}ms.`),console.error("    If the component is using `forwardRef` but not `useImperativeHandle`, add the following: `useImperativeHandle(ref, () => ({}));`");return}window.setTimeout(()=>{this.waitForInstance(t,r,s)})}}};Ot.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3;var Br=Ot;import Wr from"react";var X=Wr.createContext({});import lt from"react-dom";var oe=(...e)=>e.filter(r=>r!=null&&r!=="").join(" "),ee=class tr{constructor(...t){this.classesMap={},t.forEach(r=>{this.classesMap[r]=!0})}setClass(t,r){if(!!this.classesMap[t]==r)return this;const n=new tr;return n.classesMap=L({},this.classesMap),n.classesMap[t]=r,n}toString(){return Object.keys(this.classesMap).filter(r=>this.classesMap[r]).join(" ")}},ve=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,r=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===r()},Hr=lt.createRoot!=null&&lt.flushSync!=null,je=!1;function Lr(e){return je||setTimeout(()=>je=!1,0),je=!0,e()}var ct=(e,t)=>{Hr&&e&&!je?lt.flushSync(t):t()};function it(e,t,r){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(r||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const s=[],n=[],o=new Map,c=new Map;for(let a=0;a<t.length;a++){const l=t[a];c.set(l.getInstanceId(),l)}for(let a=0;a<e.length;a++){const l=e[a];o.set(l.getInstanceId(),l),c.has(l.getInstanceId())&&s.push(l)}for(let a=0;a<t.length;a++){const l=t[a],d=l.getInstanceId();o.has(d)||n.push(l)}return s.length===e.length&&n.length===0?e:s.length===0&&n.length===t.length?t:[...s,...n]}import{GroupCellRendererCtrl as Ur,_ as Vr}from"ag-grid-community";import ae,{useContext as jr,useImperativeHandle as Kr,forwardRef as zr,useMemo as Ke,useRef as ye,useState as Ce,useLayoutEffect as $r,useCallback as Jr}from"react";var Me=(e,t,r,s)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const o=e.newAgStackInstance();if(!o)return;let c,a,l=!1;return o.then(d=>{if(l){t.destroyBean(d);return}c=d,a=c.getGui(),r.appendChild(a),Tt(s,c)}),()=>{l=!0,c&&(a&&a.parentElement&&a.parentElement.removeChild(a),t.destroyBean(c),s&&Tt(s,void 0))}},Tt=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const r=e;r.current=t}},Yr=e=>{const t=e.newAgStackInstance();if(t)return t.resolveNow(null,r=>r)},xt=zr((e,t)=>{var r;const s=jr(X).context,n=ye(null),o=ye(null),c=ye(null),a=ye(null),l=ye(null),d=ye(),[u,p]=Ce(),[v,y]=Ce(),[f,h]=Ce(),[i,m]=Ce(()=>new ee),[C,g]=Ce(()=>new ee("ag-hidden")),[b,T]=Ce(()=>new ee("ag-hidden")),[M,P]=Ce(()=>new ee("ag-invisible"));Kr(t,()=>({refresh(){return!1}})),$r(()=>Me(u,s,o.current),[u]);const I=Jr(B=>{if(n.current=B,!n.current){s.destroyBean(d.current),d.current=null;return}const $={setInnerRenderer:(w,O)=>{p(w),h(O)},setChildCount:w=>y(w),addOrRemoveCssClass:(w,O)=>m(J=>J.setClass(w,O)),setContractedDisplayed:w=>T(O=>O.setClass("ag-hidden",!w)),setExpandedDisplayed:w=>g(O=>O.setClass("ag-hidden",!w)),setCheckboxVisible:w=>P(O=>O.setClass("ag-invisible",!w))};d.current=s.createBean(new Ur),d.current.init($,n.current,c.current,a.current,l.current,xt,e)},[]),R=Ke(()=>`ag-cell-wrapper ${i.toString()}`,[i]),S=Ke(()=>`ag-group-expanded ${C.toString()}`,[C]),A=Ke(()=>`ag-group-contracted ${b.toString()}`,[b]),E=Ke(()=>`ag-group-checkbox ${M.toString()}`,[M]),G=u&&u.componentFromFramework,N=G?u.componentClass:void 0,U=u==null&&f!=null,_=Vr.escapeString(f,!0);return ae.createElement("span",L({className:R,ref:I},e.colDef?{}:{role:(r=d.current)==null?void 0:r.getCellAriaRole()}),ae.createElement("span",{className:S,ref:a}),ae.createElement("span",{className:A,ref:l}),ae.createElement("span",{className:E,ref:c}),ae.createElement("span",{className:"ag-group-value",ref:o},U&&ae.createElement(ae.Fragment,null,_),G&&ae.createElement(N,L({},u.params))),ae.createElement("span",{className:"ag-group-child-count"},v))}),_t=xt;import{GridCtrl as Zr}from"ag-grid-community";import ke,{memo as qr,useCallback as ut,useEffect as Xr,useMemo as ze,useRef as $e,useState as me}from"react";import{CssClassManager as Qr,GridBodyCtrl as es,RowContainerName as Z,_ as Dt}from"ag-grid-community";import Ae,{memo as ts,useCallback as rs,useContext as ss,useMemo as le,useRef as ce,useState as te}from"react";import Je,{memo as ns,useCallback as os,useContext as as,useMemo as Nt,useRef as Bt,useState as Wt}from"react";import{GridHeaderCtrl as ls}from"ag-grid-community";import he,{memo as cs,useCallback as is,useContext as us,useRef as dt,useState as Ht}from"react";import{HeaderRowContainerCtrl as ds}from"ag-grid-community";import{HeaderRowType as Lt}from"ag-grid-community";import Ye,{memo as ps,useCallback as Ut,useMemo as Vt,useRef as ms,useState as pt}from"react";import Ge,{memo as Cs,useCallback as hs,useContext as fs,useEffect as gs,useLayoutEffect as Rs,useMemo as vs,useRef as Oe,useState as ys}from"react";import{CssClassManager as ws,_ as jt}from"ag-grid-community";var Es=e=>{const{ctrl:t}=e,r=t.isAlive(),{context:s}=fs(X),n=r?t.getColId():void 0,[o,c]=ys(),a=Oe(null),l=Oe(null),d=Oe(null),u=Oe();let p=Oe();r&&!p.current&&(p.current=new ws(()=>a.current));const v=hs(i=>{var m;if(a.current=i,!a.current||!r)return;const C={setWidth:b=>{a.current&&(a.current.style.width=b)},addOrRemoveCssClass:(b,T)=>p.current.addOrRemoveCssClass(b,T),setAriaSort:b=>{a.current&&(b?jt.setAriaSort(a.current,b):jt.removeAriaSort(a.current))},setUserCompDetails:b=>c(b),getUserCompInstance:()=>u.current||void 0};t.setComp(C,a.current,l.current,d.current);const g=t.getSelectAllGui();(m=l.current)==null||m.insertAdjacentElement("afterend",g)},[]);Rs(()=>Me(o,s,d.current,u),[o]),gs(()=>{t.setDragSource(a.current)},[o]);const y=vs(()=>!!(o?.componentFromFramework&&ve(o.componentClass)),[o]),f=o&&o.componentFromFramework,h=o&&o.componentClass;return Ge.createElement("div",{ref:v,className:"ag-header-cell","col-id":n,role:"columnheader"},Ge.createElement("div",{ref:l,className:"ag-header-cell-resize",role:"presentation"}),Ge.createElement("div",{ref:d,className:"ag-header-cell-comp-wrapper",role:"presentation"},f&&y&&Ge.createElement(h,L({},o.params)),f&&!y&&Ge.createElement(h,q(L({},o.params),{ref:u}))))},Ps=Cs(Es);import Ze,{memo as bs,useCallback as Ss,useContext as Fs,useEffect as Is,useLayoutEffect as Ms,useMemo as qe,useRef as mt,useState as Te}from"react";var ks=e=>{const{context:t}=Fs(X),{ctrl:r}=e,[s,n]=Te(()=>new ee),[o,c]=Te(()=>new ee),[a,l]=Te("false"),[d,u]=Te(),[p,v]=Te(),y=qe(()=>r.getColId(),[]),f=mt(null),h=mt(null),i=mt(),m=Ss(P=>{if(f.current=P,!f.current)return;const I={setWidth:R=>{f.current&&(f.current.style.width=R)},addOrRemoveCssClass:(R,S)=>n(A=>A.setClass(R,S)),setUserCompDetails:R=>v(R),setResizableDisplayed:R=>{c(S=>S.setClass("ag-hidden",!R)),l(R?"false":"true")},setAriaExpanded:R=>u(R),getUserCompInstance:()=>i.current||void 0};r.setComp(I,f.current,h.current)},[]);Ms(()=>Me(p,t,f.current),[p]),Is(()=>{f.current&&r.setDragSource(f.current)},[p]);const C=qe(()=>!!(p?.componentFromFramework&&ve(p.componentClass)),[p]),g=qe(()=>"ag-header-group-cell "+s.toString(),[s]),b=qe(()=>"ag-header-cell-resize "+o.toString(),[o]),T=p&&p.componentFromFramework,M=p&&p.componentClass;return Ze.createElement("div",{ref:m,className:g,"col-id":y,role:"columnheader","aria-expanded":d},T&&C&&Ze.createElement(M,L({},p.params)),T&&!C&&Ze.createElement(M,q(L({},p.params),{ref:i})),Ze.createElement("div",{ref:h,"aria-hidden":a,className:b}))},As=bs(ks);import fe,{memo as Gs,useCallback as Os,useContext as Ts,useLayoutEffect as xs,useMemo as we,useRef as Ee,useState as Pe}from"react";import{AgPromise as _s}from"ag-grid-community";import{AgPromise as Ds,_ as Ns}from"ag-grid-community";function Bs(e,t){var r,s;((s=(r=e?.getInstance)==null?void 0:r.call(e))!=null?s:Ds.resolve(void 0)).then(o=>t(o))}function Xe(){Ns.warnOnce("Using custom components without `reactiveCustomComponents = true` is deprecated.")}var Ws=e=>{const{context:t,gridOptionsService:r}=Ts(X),[s,n]=Pe(()=>new ee("ag-header-cell","ag-floating-filter")),[o,c]=Pe(()=>new ee),[a,l]=Pe(()=>new ee("ag-floating-filter-button","ag-hidden")),[d,u]=Pe("false"),[p,v]=Pe(),[y,f]=Pe(1),h=Ee(null),i=Ee(null),m=Ee(null),C=Ee(null),g=Ee(),b=Ee(),T=B=>{B!=null&&g.current&&g.current(B)},{ctrl:M}=e,P=Os(B=>{if(h.current=B,!h.current)return;b.current=new _s(w=>{g.current=w});const $={addOrRemoveCssClass:(w,O)=>n(J=>J.setClass(w,O)),addOrRemoveBodyCssClass:(w,O)=>c(J=>J.setClass(w,O)),setButtonWrapperDisplayed:w=>{l(O=>O.setClass("ag-hidden",!w)),u(w?"false":"true")},setWidth:w=>{h.current&&(h.current.style.width=w)},setCompDetails:w=>v(w),getFloatingFilterComp:()=>b.current?b.current:null,setMenuIcon:w=>{var O;return(O=C.current)==null?void 0:O.appendChild(w)}};M.setComp($,h.current,C.current,i.current)},[]);xs(()=>Me(p,t,i.current,T),[p]);const I=we(()=>s.toString(),[s]),R=we(()=>o.toString(),[o]),S=we(()=>a.toString(),[a]),A=we(()=>!!(p&&p.componentFromFramework&&ve(p.componentClass)),[p]),E=we(()=>r.get("reactiveCustomComponents"),[]),G=we(()=>{if(p)if(E){const B=new Gr(p.params,()=>f($=>$+1));return T(B),B}else p.componentFromFramework&&Xe()},[p]),N=G?.getProps(),U=p&&p.componentFromFramework,_=p&&p.componentClass;return fe.createElement("div",{ref:P,className:I,role:"gridcell"},fe.createElement("div",{ref:i,className:R,role:"presentation"},U&&!E&&fe.createElement(_,q(L({},p.params),{ref:A?()=>{}:T})),U&&E&&fe.createElement(Ve.Provider,{value:{setMethods:B=>G.setMethods(B)}},fe.createElement(_,L({},N)))),fe.createElement("div",{ref:m,"aria-hidden":d,className:S,role:"presentation"},fe.createElement("button",{ref:C,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},Hs=Gs(Ws),Ls=e=>{const{ctrl:t}=e,{topOffset:r,rowHeight:s}=Vt(()=>t.getTopAndHeight(),[]),n=t.getAriaRowIndex(),o=t.getHeaderRowClass(),[c,a]=pt(()=>s+"px"),[l,d]=pt(()=>r+"px"),[u,p]=pt(()=>t.getHeaderCtrls()),v=ms(null),y=Ut(i=>{if(v.current=i,!i)return;const m={setHeight:C=>a(C),setTop:C=>d(C),setHeaderCtrls:(C,g,b)=>{ct(b,()=>{p(T=>it(T,C,g))})},setWidth:C=>{v.current&&(v.current.style.width=C)}};t.setComp(m,!1)},[]),f=Vt(()=>({height:c,top:l}),[c,l]),h=Ut(i=>{switch(t.getType()){case Lt.COLUMN_GROUP:return Ye.createElement(As,{ctrl:i,key:i.getInstanceId()});case Lt.FLOATING_FILTER:return Ye.createElement(Hs,{ctrl:i,key:i.getInstanceId()});default:return Ye.createElement(Ps,{ctrl:i,key:i.getInstanceId()})}},[]);return Ye.createElement("div",{ref:y,className:o,role:"row",style:f,"aria-rowindex":n},u.map(h))},Us=ps(Ls),Vs=e=>{const[t,r]=Ht(!0),[s,n]=Ht([]),{context:o}=us(X),c=dt(null),a=dt(null),l=dt(null),d=e.pinned==="left",u=e.pinned==="right",p=!d&&!u,v=is(h=>{if(c.current=h,!c.current){o.destroyBean(l.current),l.current=null;return}const i={setDisplayed:r,setCtrls:m=>n(m),setCenterWidth:m=>{a.current&&(a.current.style.width=m)},setViewportScrollLeft:m=>{c.current&&(c.current.scrollLeft=m)},setPinnedContainerWidth:m=>{c.current&&(c.current.style.width=m,c.current.style.minWidth=m,c.current.style.maxWidth=m)}};l.current=o.createBean(new ds(e.pinned)),l.current.setComp(i,c.current)},[]),y=t?"":"ag-hidden",f=()=>s.map(h=>he.createElement(Us,{ctrl:h,key:h.getInstanceId()}));return he.createElement(he.Fragment,null,d&&he.createElement("div",{ref:v,className:"ag-pinned-left-header "+y,"aria-hidden":!t,role:"rowgroup"},f()),u&&he.createElement("div",{ref:v,className:"ag-pinned-right-header "+y,"aria-hidden":!t,role:"rowgroup"},f()),p&&he.createElement("div",{ref:v,className:"ag-header-viewport "+y,role:"presentation"},he.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},f())))},Ct=cs(Vs),js=()=>{const[e,t]=Wt(()=>new ee),[r,s]=Wt(),{context:n}=as(X),o=Bt(null),c=Bt(null),a=os(u=>{if(o.current=u,!u){n.destroyBean(c.current),c.current=null;return}const p={addOrRemoveCssClass:(v,y)=>t(f=>f.setClass(v,y)),setHeightAndMinHeight:v=>s(v)};c.current=n.createBean(new ls),c.current.setComp(p,o.current,o.current)},[]),l=Nt(()=>"ag-header "+e.toString(),[e]),d=Nt(()=>({height:r,minHeight:r}),[r]);return Je.createElement("div",{ref:a,className:l,style:d,role:"presentation"},Je.createElement(Ct,{pinned:"left"}),Je.createElement(Ct,{pinned:null}),Je.createElement(Ct,{pinned:"right"}))},Ks=ns(js);import{useEffect as zs}from"react";var $s=(e,t)=>{zs(()=>{const r=t.current;if(r){const s=r.parentElement;if(s){const n=document.createComment(e);return s.insertBefore(n,r),()=>{s.removeChild(n)}}}},[e])},ge=$s;import{getRowContainerTypeForName as Js,RowContainerCtrl as Kt,RowContainerName as Qe}from"ag-grid-community";import xe,{useMemo as et,useRef as _e,useState as Ys,memo as Zs,useContext as qs,useCallback as De}from"react";import be,{useEffect as zt,useRef as Se,useState as ie,useMemo as $t,memo as Xs,useContext as Qs,useLayoutEffect as en,useCallback as tn}from"react";import{CssClassManager as rn}from"ag-grid-community";import{_ as ht,CssClassManager as sn}from"ag-grid-community";import j,{useCallback as Fe,useRef as ue,useState as de,useMemo as ft,memo as nn,useContext as on,useLayoutEffect as gt}from"react";import{PopupEditorWrapper as an}from"ag-grid-community";import Jt,{useState as ln,memo as cn,useContext as un}from"react";import{createPortal as dn}from"react-dom";import{useEffect as pn,useRef as tt,useState as mn}from"react";var Cn=e=>{const t=tt(e),r=tt(),s=tt(!1),n=tt(!1),[,o]=mn(0);s.current&&(n.current=!0),pn(()=>(s.current||(r.current=t.current(),s.current=!0),o(c=>c+1),()=>{n.current&&r.current&&r.current()}),[])},hn=e=>{const[t,r]=ln(),{context:s,popupService:n,localeService:o,gridOptionsService:c}=un(X);return Cn(()=>{const{editDetails:a,cellCtrl:l,eParentCell:d}=e,{compDetails:u}=a,p=c.get("stopEditingWhenCellsLoseFocus"),v=s.createBean(new an(u.params)),y=v.getGui();if(e.jsChildComp){const g=e.jsChildComp.getGui();g&&y.appendChild(g)}const f={column:l.getColumn(),rowNode:l.getRowNode(),type:"popupCellEditor",eventSource:d,ePopup:y,position:a.popupPosition,keepWithinBounds:!0},h=n.positionPopupByComponent.bind(n,f),i=o.getLocaleTextFunc(),m=n.addPopup({modal:p,eChild:y,closeOnEsc:!0,closedCallback:()=>{l.onPopupEditorClosed()},anchorToElement:d,positionCallback:h,ariaLabel:i("ariaLabelCellEditor","Cell Editor")}),C=m?m.hideFunc:void 0;return r(v),e.jsChildComp&&e.jsChildComp.afterGuiAttached&&e.jsChildComp.afterGuiAttached(),()=>{C?.(),s.destroyBean(v)}}),Jt.createElement(Jt.Fragment,null,t&&e.wrappedContent&&dn(e.wrappedContent,t.getGui()))},Yt=cn(hn);import{useCallback as fn,useContext as gn,useEffect as Zt}from"react";var Rn=(e,t,r,s,n,o)=>{const{context:c}=gn(X),a=fn(()=>{const l=n.current;if(!l)return;const d=l.getGui();d&&d.parentElement&&d.parentElement.removeChild(d),c.destroyBean(l),n.current=void 0},[]);Zt(()=>{const l=e!=null,d=e&&e.compDetails&&!e.compDetails.componentFromFramework,u=t&&r==null;if(!(l&&d&&!u)){a();return}const v=e.compDetails;if(n.current){const m=n.current,g=m.refresh!=null&&e.force==!1?m.refresh(v.params):!1;if(g===!0||g===void 0)return;a()}const y=v.newAgStackInstance();if(!y)return;const f=y.resolveNow(null,m=>m);if(!f)return;const h=f.getGui();if(!h)return;(t?r:o.current).appendChild(h),n.current=f},[e,t,s]),Zt(()=>a,[])},vn=Rn;import{AgPromise as yn}from"ag-grid-community";var wn=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new yn(r=>{this.resolveInstanceCreated=r}),this.onValueChange=r=>this.updateValue(r),this.value=e.value}getProps(){return q(L({},this.cellEditorParams),{initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange})}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){at(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,(t=this.resolveInstanceCreated)==null||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},En=(e,t,r)=>{const s=r.getColumn();if(!e&&t.isPopup&&t.isPopup()){const n=`AG Grid: Found an issue in column ${s.getColId()}. If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.`;ht.doOnce(()=>console.warn(n),"jsEditorComp-isPopup-"+r.getColumn().getColId())}if(e&&t.getPopupPosition&&t.getPopupPosition()!=null){const n=`AG Grid: Found an issue in column ${s.getColId()}. If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.`;ht.doOnce(()=>console.warn(n),"jsEditorComp-getPopupPosition-"+r.getColumn().getColId())}},Pn=(e,t,r)=>{const{compProxy:s}=e;r(s);const n=s.getProps(),o=ve(t);return j.createElement(Ve.Provider,{value:{setMethods:c=>s.setMethods(c)}},o&&j.createElement(t,L({},n)),!o&&j.createElement(t,q(L({},n),{ref:c=>s.setRef(c)})))},qt=(e,t,r)=>{const s=e.compProxy;return j.createElement(j.Fragment,null,!s&&j.createElement(t,q(L({},e.compDetails.params),{ref:r})),s&&Pn(e,t,r))},bn=(e,t,r,s,n,o)=>{const c=e.compDetails,a=c.componentClass,l=c.componentFromFramework&&!e.popup,d=c.componentFromFramework&&e.popup,u=!c.componentFromFramework&&e.popup;return j.createElement(j.Fragment,null,l&&qt(e,a,t),d&&j.createElement(Yt,{editDetails:e,cellCtrl:n,eParentCell:s,wrappedContent:qt(e,a,r)}),u&&o&&j.createElement(Yt,{editDetails:e,cellCtrl:n,eParentCell:s,jsChildComp:o}))},Sn=(e,t,r,s,n,o,c)=>{const{compDetails:a,value:l}=e,d=!a,u=a&&a.componentFromFramework,p=a&&a.componentClass,v=l?.toString?l.toString():l,y=()=>j.createElement(j.Fragment,null,d&&j.createElement(j.Fragment,null,v),u&&!o&&j.createElement(p,q(L({},a.params),{key:t,ref:s})),u&&o&&j.createElement(p,q(L({},a.params),{key:t})));return j.createElement(j.Fragment,null,n?j.createElement("span",{role:"presentation",id:`cell-${r}`,className:"ag-cell-value",ref:c},y()):y())},Fn=e=>{const{context:t}=on(X),{cellCtrl:r,printLayout:s,editingRow:n}=e,o=r.getTabIndex(),c=r.getColumnIdSanitised(),a=r.getInstanceId(),[l,d]=de(()=>r.isCellRenderer()?void 0:{compDetails:void 0,value:r.getValueToDisplay(),force:!1}),[u,p]=de(),[v,y]=de(1),[f,h]=de(),[i,m]=de(!1),[C,g]=de(!1),[b,T]=de(!1),[M,P]=de(),I=ft(()=>r.isForceWrapper(),[r]),R=ft(()=>r.getCellAriaRole(),[r]),S=ue(null),A=ue(null),E=ue(),G=ue(),N=ue(),U=ue([]),_=ue(),[B,$]=de(0),w=Fe(H=>{_.current=H,$(W=>W+1)},[]),O=l!=null&&(i||b||C),J=I||O,x=Fe((H,W)=>{G.current=W,W&&(En(H,W,r),W.isCancelBeforeStart&&W.isCancelBeforeStart()&&setTimeout(()=>{r.stopEditing(!0),r.focusCell(!0)}))},[r]),k=Fe(H=>x(!0,H),[x]),re=Fe(H=>x(!1,H),[x]);let K=ue();K.current||(K.current=new sn(()=>S.current)),vn(l,J,_.current,B,E,S);const se=ue();gt(()=>{const H=se.current,W=l;if(se.current=l,H==null||H.compDetails==null||W==null||W.compDetails==null)return;const V=H.compDetails,F=W.compDetails;if(V.componentClass!=F.componentClass||A.current==null||A.current.refresh==null)return;A.current.refresh(F.params)!=!0&&y(Q=>Q+1)},[l]),gt(()=>{if(!(u&&!u.compDetails.componentFromFramework))return;const W=u.compDetails,V=u.popup===!0,F=Yr(W);if(!F)return;const z=F.getGui();if(x(V,F),!V){const Q=(I?N:S).current;Q?.appendChild(z),F.afterGuiAttached&&F.afterGuiAttached()}return P(F),()=>{t.destroyBean(F),x(V,void 0),P(void 0),z&&z.parentElement&&z.parentElement.removeChild(z)}},[u]);const Ie=Fe(H=>{if(N.current=H,!N.current){U.current.forEach(V=>V()),U.current=[];return}const W=V=>{var F;if(V){const z=V.getGui();(F=N.current)==null||F.insertAdjacentElement("afterbegin",z),U.current.push(()=>{t.destroyBean(V),ht.removeFromParent(z)})}return V};if(i){const V=r.createSelectionCheckbox();W(V)}b&&W(r.createDndSource()),C&&W(r.createRowDragComp())},[r,t,b,C,i]),rt=Fe(H=>{if(S.current=H,!S.current||!r)return;const W={addOrRemoveCssClass:(F,z)=>K.current.addOrRemoveCssClass(F,z),setUserStyles:F=>h(F),getFocusableElement:()=>S.current,setIncludeSelection:F=>m(F),setIncludeRowDrag:F=>g(F),setIncludeDndSource:F=>T(F),getCellEditor:()=>G.current||null,getCellRenderer:()=>A.current?A.current:E.current,getParentOfValue:()=>_.current?_.current:N.current?N.current:S.current,setRenderDetails:(F,z,Q)=>{d(D=>D?.compDetails!==F||D?.value!==z||D?.force!==Q?{value:z,compDetails:F,force:Q}:D)},setEditDetails:(F,z,Q,D)=>{if(F){let Y;D?Y=new wn(F.params,()=>y(We=>We+1)):F.componentFromFramework&&Xe(),p({compDetails:F,popup:z,popupPosition:Q,compProxy:Y}),z||d(void 0)}else p(Y=>{Y?.compProxy&&(G.current=void 0)})}},V=N.current||void 0;r.setComp(W,S.current,V,s,n)},[]),st=ft(()=>!!(l&&l.compDetails&&l.compDetails.componentFromFramework&&ve(l.compDetails.componentClass)),[l]);gt(()=>{var H;S.current&&(K.current.addOrRemoveCssClass("ag-cell-value",!J),K.current.addOrRemoveCssClass("ag-cell-inline-editing",!!u&&!u.popup),K.current.addOrRemoveCssClass("ag-cell-popup-editing",!!u&&!!u.popup),K.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!u||!!u.popup),(H=r.getRowCtrl())==null||H.setInlineEditingCss(!!u),r.shouldRestoreFocus()&&!r.isEditing()&&S.current.focus({preventScroll:!0}))});const Be=()=>j.createElement(j.Fragment,null,l!=null&&Sn(l,v,a,A,J,st,w),u!=null&&bn(u,re,k,S.current,r,M));return j.createElement("div",{ref:rt,style:f,tabIndex:o,role:R,"col-id":c},J?j.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:Ie},Be()):Be())},In=nn(Fn),Mn=e=>{const{context:t,gridOptionsService:r}=Qs(X),{rowCtrl:s,containerType:n}=e,o=s.getTabIndex(),c=Se(s.getDomOrder()),a=s.isFullWidth(),l=s.getRowNode().displayed,[d,u]=ie(()=>l?s.getRowIndex():null),[p,v]=ie(()=>s.getRowId()),[y,f]=ie(()=>s.getBusinessKey()),[h,i]=ie(()=>s.getRowStyles()),[m,C]=ie(()=>null),[g,b]=ie(),[T,M]=ie(()=>l?s.getInitialRowTop(n):void 0),[P,I]=ie(()=>l?s.getInitialTransform(n):void 0),R=Se(null),S=Se(),A=Se(!1),[E,G]=ie(0);zt(()=>{var k;if(A.current||!g||E>10)return;const re=(k=R.current)==null?void 0:k.firstChild;re?(s.setupDetailRowAutoHeight(re),A.current=!0):G(K=>K+1)},[g,E]);let N=Se();N.current||(N.current=new rn(()=>R.current));const U=tn(k=>{if(R.current=k,!R.current){s.unsetComp(n);return}if(!s.isAlive())return;const re={setTop:M,setTransform:I,addOrRemoveCssClass:(K,se)=>N.current.addOrRemoveCssClass(K,se),setDomOrder:K=>c.current=K,setRowIndex:u,setRowId:v,setRowBusinessKey:f,setUserStyles:i,setCellCtrls:(K,se)=>{ct(se,()=>{C(Ie=>it(Ie,K,c.current))})},showFullWidth:K=>b(K),getFullWidthCellRenderer:()=>S.current,refreshFullWidth:K=>O.current?(b(se=>q(L({},se),{params:K()})),!0):!S.current||!S.current.refresh?!1:S.current.refresh(K())};s.setComp(re,R.current,n)},[]);en(()=>Me(g,t,R.current,S),[g]);const _=$t(()=>{const k={top:T,transform:P};return Object.assign(k,h),k},[T,P,h]),B=a&&g&&g.componentFromFramework,$=!a&&m!=null,w=$t(()=>!!(g?.componentFromFramework&&ve(g.componentClass)),[g]),O=Se(!1);zt(()=>{O.current=w&&!!g&&!!r.get("reactiveCustomComponents")},[w,g]);const J=()=>m?.map(k=>be.createElement(In,{cellCtrl:k,editingRow:s.isEditing(),printLayout:s.isPrintLayout(),key:k.getInstanceId()})),x=()=>{const k=g.componentClass;return be.createElement(be.Fragment,null,w&&be.createElement(k,L({},g.params)),!w&&be.createElement(k,q(L({},g.params),{ref:S})))};return be.createElement("div",{ref:U,role:"row",style:_,"row-index":d,"row-id":p,"row-business-key":y,tabIndex:o},$&&J(),B&&x())},kn=Xs(Mn),An=e=>{const{context:t}=qs(X),{name:r}=e,s=et(()=>Js(r),[r]),n=_e(null),o=_e(null),c=_e([]),[a,l]=Ys(()=>[]),d=_e(!1),u=_e(),p=et(()=>Kt.getRowContainerCssClasses(r),[r]),v=et(()=>oe(p.viewport),[p]),y=et(()=>oe(p.container),[p]),f=r===Qe.CENTER||r===Qe.TOP_CENTER||r===Qe.BOTTOM_CENTER||r===Qe.STICKY_TOP_CENTER,h=f?n:o;ge(" AG Row Container "+r+" ",h);const i=De(()=>f?n.current!=null&&o.current!=null:o.current!=null,[]),m=De(()=>f?n.current==null&&o.current==null:o.current==null,[]),C=De(()=>{if(m()&&(t.destroyBean(u.current),u.current=null),i()){const M=I=>{ct(I,()=>{l(R=>it(R,c.current,d.current))})},P={setViewportHeight:I=>{n.current&&(n.current.style.height=I)},setRowCtrls:({rowCtrls:I,useFlushSync:R})=>{const S=!!R&&c.current.length>0&&I.length>0;c.current=I,M(S)},setDomOrder:I=>{d.current!=I&&(d.current=I,M(!1))},setContainerWidth:I=>{o.current&&(o.current.style.width=I)}};u.current=t.createBean(new Kt(r)),u.current.setComp(P,o.current,n.current)}},[i,m]),g=De(M=>{o.current=M,C()},[C]),b=De(M=>{n.current=M,C()},[C]),T=()=>xe.createElement("div",{className:y,ref:g,role:"rowgroup"},a.map(M=>xe.createElement(kn,{rowCtrl:M,containerType:s,key:M.getInstanceId()})));return xe.createElement(xe.Fragment,null,f?xe.createElement("div",{className:v,ref:b,role:"presentation"},T()):T())},Gn=Zs(An),On=()=>{const{context:e,agStackComponentsRegistry:t,resizeObserverService:r}=ss(X),[s,n]=te(""),[o,c]=te(0),[a,l]=te(0),[d,u]=te("0px"),[p,v]=te("0px"),[y,f]=te("100%"),[h,i]=te(""),[m,C]=te(""),[g,b]=te(null),[T,M]=te(""),[P,I]=te(null),[R,S]=te("ag-layout-normal");let A=ce();A.current||(A.current=new Qr(()=>E.current));const E=ce(null),G=ce(null),N=ce(null),U=ce(null),_=ce(null),B=ce(null),$=ce([]),w=ce([]);ge(" AG Grid Body ",E),ge(" AG Pinned Top ",G),ge(" AG Sticky Top ",N),ge(" AG Middle ",_),ge(" AG Pinned Bottom ",B);const O=rs(W=>{if(E.current=W,!E.current){e.destroyBeans($.current),w.current.forEach(D=>D()),$.current=[],w.current=[];return}if(!e)return;const V=D=>{const Y=t.getComponentClass(D),We=e.createBean(new Y);return $.current.push(We),We},F=(D,Y)=>{D.appendChild(Y),w.current.push(()=>D.removeChild(Y))};F(E.current,document.createComment(" AG Fake Horizontal Scroll ")),F(E.current,V("AG-FAKE-HORIZONTAL-SCROLL").getGui()),F(E.current,document.createComment(" AG Overlay Wrapper ")),F(E.current,V("AG-OVERLAY-WRAPPER").getGui()),U.current&&(F(U.current,document.createComment(" AG Fake Vertical Scroll ")),F(U.current,V("AG-FAKE-VERTICAL-SCROLL").getGui()));const z={setRowAnimationCssOnBodyViewport:n,setColumnCount:D=>{E.current&&Dt.setAriaColCount(E.current,D)},setRowCount:D=>{E.current&&Dt.setAriaRowCount(E.current,D)},setTopHeight:c,setBottomHeight:l,setStickyTopHeight:u,setStickyTopTop:v,setStickyTopWidth:f,setTopDisplay:i,setBottomDisplay:C,setColumnMovingCss:(D,Y)=>A.current.addOrRemoveCssClass(D,Y),updateLayoutClasses:S,setAlwaysVerticalScrollClass:b,setPinnedTopBottomOverflowY:M,setCellSelectableCss:(D,Y)=>I(Y?D:null),setBodyViewportWidth:D=>{_.current&&(_.current.style.width=D)},registerBodyViewportResizeListener:D=>{if(_.current){const Y=r.observeResize(_.current,D);w.current.push(()=>Y())}}},Q=e.createBean(new es);$.current.push(Q),Q.setComp(z,E.current,_.current,G.current,B.current,N.current)},[]),J=le(()=>oe("ag-root","ag-unselectable",R),[R]),x=le(()=>oe("ag-body-viewport",s,R,g,P),[s,R,g,P]),k=le(()=>oe("ag-body",R),[R]),re=le(()=>oe("ag-floating-top",P),[P]),K=le(()=>oe("ag-sticky-top",P),[P]),se=le(()=>oe("ag-floating-bottom",P),[P]),Ie=le(()=>({height:o,minHeight:o,display:h,overflowY:T}),[o,h,T]),rt=le(()=>({height:d,top:p,width:y}),[d,p,y]),st=le(()=>({height:a,minHeight:a,display:m,overflowY:T}),[a,m,T]),Be=W=>Ae.createElement(Gn,{name:W,key:`${W}-container`}),H=({section:W,children:V,className:F,style:z})=>Ae.createElement("div",{ref:W,className:F,role:"presentation",style:z},V.map(Be));return Ae.createElement("div",{ref:O,className:J,role:"treegrid"},Ae.createElement(Ks,null),H({section:G,className:re,style:Ie,children:[Z.TOP_LEFT,Z.TOP_CENTER,Z.TOP_RIGHT,Z.TOP_FULL_WIDTH]}),Ae.createElement("div",{className:k,ref:U,role:"presentation"},H({section:_,className:x,children:[Z.LEFT,Z.CENTER,Z.RIGHT,Z.FULL_WIDTH]})),H({section:N,className:K,style:rt,children:[Z.STICKY_TOP_LEFT,Z.STICKY_TOP_CENTER,Z.STICKY_TOP_RIGHT,Z.STICKY_TOP_FULL_WIDTH]}),H({section:B,className:se,style:st,children:[Z.BOTTOM_LEFT,Z.BOTTOM_CENTER,Z.BOTTOM_RIGHT,Z.BOTTOM_FULL_WIDTH]}))},Tn=ts(On);import Rt,{forwardRef as xn,memo as _n,useCallback as vt,useContext as Dn,useImperativeHandle as Nn,useRef as yt}from"react";import{TabGuardClassNames as wt,TabGuardCtrl as Bn}from"ag-grid-community";var Wn=(e,t)=>{const{children:r,eFocusableElement:s,onTabKeyDown:n,gridCtrl:o,forceFocusOutWhenTabGuardsAreEmpty:c}=e,{context:a}=Dn(X),l=yt(null),d=yt(null),u=yt(),p=i=>{const m=i==null?void 0:parseInt(i,10).toString();[l,d].forEach(C=>{var g,b;m===void 0?(g=C.current)==null||g.removeAttribute("tabindex"):(b=C.current)==null||b.setAttribute("tabindex",m)})};Nn(t,()=>({forceFocusOutOfContainer(i){var m;(m=u.current)==null||m.forceFocusOutOfContainer(i)}}));const v=vt(()=>{if(!l.current&&!d.current){a.destroyBean(u.current),u.current=null;return}if(l.current&&d.current){const i={setTabIndex:p};u.current=a.createBean(new Bn({comp:i,eTopGuard:l.current,eBottomGuard:d.current,eFocusableElement:s,onTabKeyDown:n,forceFocusOutWhenTabGuardsAreEmpty:c,focusInnerElement:m=>o.focusInnerElement(m)}))}},[]),y=vt(i=>{l.current=i,v()},[v]),f=vt(i=>{d.current=i,v()},[v]),h=i=>{const m=i==="top"?wt.TAB_GUARD_TOP:wt.TAB_GUARD_BOTTOM;return Rt.createElement("div",{className:`${wt.TAB_GUARD} ${m}`,role:"presentation",ref:i==="top"?y:f})};return Rt.createElement(Rt.Fragment,null,h("top"),r,h("bottom"))},Hn=xn(Wn),Ln=_n(Hn),Un=({context:e})=>{const[t,r]=me(""),[s,n]=me(""),[o,c]=me(""),[a,l]=me(null),[d,u]=me(null),[p,v]=me(!1),[y,f]=me(),h=$e(null),i=$e(null),m=$e(),[C,g]=me(null),b=$e(()=>{}),T=ut(()=>{},[]),M=ze(()=>e.isDestroyed()?null:e.getBean("beans"),[e]);ge(" AG Grid ",i);const P=ut(E=>{if(i.current=E,!i.current){e.destroyBean(h.current),h.current=null;return}if(e.isDestroyed())return;h.current=e.createBean(new Zr);const G=h.current;b.current=G.focusInnerElement.bind(G);const N={destroyGridUi:()=>{},setRtlClass:r,forceFocusOutOfContainer:U=>{var _;(_=m.current)==null||_.forceFocusOutOfContainer(U)},updateLayoutClasses:c,getFocusableContainers:()=>{var U,_;const B=[],$=(U=i.current)==null?void 0:U.querySelector(".ag-root"),w=(_=i.current)==null?void 0:_.querySelector(".ag-side-bar:not(.ag-hidden)");return $&&B.push($),w&&B.push(w),B},setCursor:l,setUserSelect:u};G.setComp(N,i.current,i.current),v(!0)},[]);Xr(()=>{if(!y||!M||!h.current||!C||!i.current)return;const E=h.current,G=[],{agStackComponentsRegistry:N}=M,U=N.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),_=N.getComponentClass("AG-SIDE-BAR"),B=N.getComponentClass("AG-STATUS-BAR"),$=N.getComponentClass("AG-WATERMARK"),w=N.getComponentClass("AG-PAGINATION"),O=[],J=i.current;if(E.showDropZones()&&U){const x=e.createBean(new U),k=x.getGui();J.insertAdjacentElement("afterbegin",k),O.push(k),G.push(x)}if(E.showSideBar()&&_){const x=e.createBean(new _),k=x.getGui(),re=C.querySelector(".ag-tab-guard-bottom");re&&(re.insertAdjacentElement("beforebegin",k),O.push(k)),G.push(x)}if(E.showStatusBar()&&B){const x=e.createBean(new B),k=x.getGui();J.insertAdjacentElement("beforeend",k),O.push(k),G.push(x)}if(w){const x=e.createBean(new w),k=x.getGui();J.insertAdjacentElement("beforeend",k),O.push(k),G.push(x)}if(E.showWatermark()&&$){const x=e.createBean(new $),k=x.getGui();J.insertAdjacentElement("beforeend",k),O.push(k),G.push(x)}return()=>{e.destroyBeans(G),O.forEach(x=>{x.parentElement&&x.parentElement.removeChild(x)})}},[y,C,M]);const I=ze(()=>oe("ag-root-wrapper",t,s,o),[t,s,o]),R=ze(()=>oe("ag-root-wrapper-body","ag-focus-managed",o),[o]),S=ze(()=>({userSelect:d??"",WebkitUserSelect:d??"",cursor:a??""}),[d,a]),A=ut(E=>{m.current=E,f(E!==null)},[]);return ke.createElement("div",{ref:P,className:I,style:S,role:"presentation"},ke.createElement("div",{className:R,ref:g,role:"presentation"},p&&C&&M&&ke.createElement(X.Provider,{value:M},ke.createElement(Ln,{ref:A,eFocusableElement:C,onTabKeyDown:T,gridCtrl:h.current,forceFocusOutWhenTabGuardsAreEmpty:!0},ke.createElement(Tn,null)))))},Vn=qr(Un),Xt=e=>{var t,r;const s=ne(),n=ne(null),o=ne(null),c=ne([]),a=ne([]),l=ne(e),d=ne(!1),[u,p]=Re(void 0),[,v]=Re(0),y=Le(i=>{if(n.current=i,!n.current){c.current.forEach(P=>P()),c.current.length=0;return}const m=e.modules||[];o.current||(o.current=new Br(()=>v(P=>P+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),c.current.push(()=>{var P;(P=o.current)==null||P.destroy(),o.current=null}));const C=bt.combineAttributesAndGridOptions(e.gridOptions,e),g={providedBeanInstances:{frameworkComponentWrapper:new Kn(o.current,!!C.reactiveCustomComponents)},modules:m,frameworkOverrides:new $n},b=P=>{p(P),c.current.push(()=>{P.destroy()}),P.getBean(St.NAME).whenReady(()=>{if(P.isDestroyed())return;const R=s.current;R&&e.setGridApi&&e.setGridApi(R,new ur(R))})},T=P=>{P.getBean(St.NAME).whenReady(()=>{a.current.forEach(R=>R()),a.current.length=0,d.current=!0})},M=new dr;s.current=M.create(n.current,C,b,T,g)},[]),f=Ue(()=>L({height:"100%"},e.containerStyle||{}),[e.containerStyle]),h=Le(i=>{d.current?i():a.current.push(i)},[]);return gr(()=>{const i=jn(l.current,e);l.current=e,h(()=>{s.current&&bt.processOnChange(i,s.current)})},[e]),He.createElement("div",{style:f,className:e.className,ref:y},u&&!u.isDestroyed()?He.createElement(Vn,{context:u}):null,(r=(t=o.current)==null?void 0:t.getPortals())!=null?r:null)};function jn(e,t){const r={};return Object.keys(t).forEach(s=>{const n=t[s];e[s]!==n&&(r[s]=n)}),r}var Kn=class extends ir{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const n=(o=>{switch(o){case"filter":return kr;case"floatingFilterComponent":return Or;case"dateComponent":return Mr;case"loadingOverlayComponent":return Tr;case"noRowsOverlayComponent":return _r;case"statusPanel":return Dr;case"toolPanel":return Nr;case"menuItem":return xr}})(t.propertyName);if(n)return new n(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":Xe();break}const r=!t.cellRenderer&&t.propertyName!=="toolPanel";return new At(e,this.parent,t,r)}},zn=hr((e,t)=>{const{ctrlsFactory:r,context:s,gridOptionsService:n,resizeObserverService:o,clientSideRowModel:c,serverSideRowModel:a}=fr(X),[l,d]=Re(()=>new ee),[u,p]=Re(()=>new ee),[v,y]=Re(),[f,h]=Re(),i=ne(),m=ne(null),C=ne(),g=Ue(()=>pr.__getGridRegisteredModules(e.api.getGridId()),[e]),b=Ue(()=>l.toString()+" ag-details-row",[l]),T=Ue(()=>u.toString()+" ag-details-grid",[u]);t&&Rr(t,()=>({refresh(){var I,R;return(R=(I=i.current)==null?void 0:I.refresh())!=null?R:!1}})),e.template&&Cr.warnOnce("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const M=Le(I=>{if(m.current=I,!m.current){s.destroyBean(i.current),C.current&&C.current();return}const R={addOrRemoveCssClass:(A,E)=>d(G=>G.setClass(A,E)),addOrRemoveDetailGridCssClass:(A,E)=>p(G=>G.setClass(A,E)),setDetailGrid:A=>y(A),setRowData:A=>h(A),getGui:()=>m.current},S=r.getInstance("detailCellRenderer");if(S&&(s.createBean(S),S.init(R,e),i.current=S,n.get("detailRowAutoHeight"))){const A=()=>{if(m.current==null)return;const E=m.current.clientHeight;E!=null&&E>0&&setTimeout(()=>{e.node.setRowHeight(E),c?c.onRowHeightChanged():a&&a.onRowHeightChanged()},0)};C.current=o.observeResize(m.current,A),A()}},[]),P=Le((I,R)=>{var S;(S=i.current)==null||S.registerDetailWithMaster(I,R)},[]);return He.createElement("div",{className:b,ref:M},v&&He.createElement(Xt,q(L({className:T},v),{modules:g,rowData:f,setGridApi:P})))}),$n=class extends mr{constructor(){super("react"),this.frameworkComponents={agGroupCellRenderer:_t,agGroupRowRenderer:_t,agDetailCellRenderer:zn},this.wrapIncoming=(e,t)=>t==="ensureVisible"?Lr(e):e(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}},Jn=class extends cr{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=(e,t)=>{this.api=e,this.columnApi=t,this.apiListeners.forEach(r=>r(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return lr.createElement(Xt,q(L({},this.props),{setGridApi:this.setGridApi}))}},Qt=(e=>(e.IdentityCheck="IdentityCheck",e.DeepValueCheck="DeepValueCheck",e.NoCheck="NoCheck",e))(Qt||{});import{useContext as Yn}from"react";function Ne(e){const{setMethods:t}=Yn(Ve);t(e)}function Zn(e){Ne(e)}function qn(e){return Ne(e)}function Xn(e){return Ne(e)}function Qn(e){Ne(e)}function eo(e){Ne(e)}export{Jn as AgGridReact,Qt as ChangeDetectionStrategyType,Bs as getInstance,Zn as useGridCellEditor,qn as useGridDate,Xn as useGridFilter,Qn as useGridFloatingFilter,eo as useGridMenuItem,Xe as warnReactiveCustomComponents};
